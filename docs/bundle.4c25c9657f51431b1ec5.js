(()=>{var e,t={2339(e,t,n){"use strict";var i=n(6855);let o,r={},s={bestTime:300,recentTime:600,currentStartTime:null,totalWords:0};const a={width:200,height:60,borderRadius:10,backgroundColor:5025616,hoverColor:4563017,textColor:16777215,fontSize:24,fontFamily:"Arial",fontWeight:"bold"};function l(e,t,n,o={}){const r={...a,...o},s=new i.mcf;s.x=t,s.y=n,s.eventMode="static",s.cursor="pointer";const l=new i.A1g;c(l,r.backgroundColor,r),s.addChild(l);const d=new i.EYj(e,{fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fill:r.textColor,align:"center"});return d.anchor.set(.5),s.addChild(d),s.on("pointerover",()=>{c(l,r.hoverColor,r)}),s.on("pointerout",()=>{c(l,r.backgroundColor,r)}),s}function c(e,t,n){e.clear(),e.beginFill(t),e.drawRoundedRect(-n.width/2,-n.height/2,n.width,n.height,n.borderRadius),e.endFill()}class d{static FONTS=["Arial","Georgia","Times New Roman","Courier New","Verdana","Comic Sans MS"];static currentFont=null;static getRandomFont(){return this.FONTS[Math.floor(Math.random()*this.FONTS.length)]}static getCurrentFont(){return this.currentFont}static setCurrentFont(e){this.currentFont=e}static getAvailableFonts(){return[...this.FONTS]}static processWordForDisplay(e){return e&&"look"===e.toLowerCase()?"lüëÄk":e}static createWordDisplay(e,t,n={}){const o={fontFamily:n.fontFamily||"Arial",fontSize:n.fontSize||64,fontWeight:n.fontWeight||"bold",fill:void 0!==n.fill?n.fill:0,align:n.align||"center",...n},r=new i.EYj("",o);return r.anchor.set(.5),r.x=t.screen.width/2,r.y=t.screen.height/2,e&&e.addChild(r),r}static updateWordDisplay(e,t,n,i,o={}){if(!e||!t)return void console.warn("FontManager.updateWordDisplay: Invalid parameters provided");const{randomizeFont:r=!0,fontFamily:s=null,logToConsole:a=!0}=o,l=this.processWordForDisplay(t);let c;e.text=l,c=s||(r?this.getRandomFont():this.currentFont||"Arial"),e.style.fontFamily=c,this.setCurrentFont(c),a&&console.log(`Word ${n+1}/${i}: "${t}" in ${c}`)}static updateWordDisplayPosition(e,t,n=0,i=0){e&&t&&(e.x=t.screen.width/2+n,e.y=t.screen.height/2+i)}static createStyledText(e,t={},n={},o=!1){const r={fontFamily:o?this.getRandomFont():t.fontFamily||"Arial",fontSize:t.fontSize||24,fontWeight:t.fontWeight||"normal",fill:void 0!==t.fill?t.fill:0,align:t.align||"left",...t},s=new i.EYj(e,r);return void 0!==n.x&&(s.x=n.x),void 0!==n.y&&(s.y=n.y),void 0!==t.anchor&&(Array.isArray(t.anchor)?s.anchor.set(t.anchor[0],t.anchor[1]):"number"==typeof t.anchor&&s.anchor.set(t.anchor)),s}}class h{constructor(e,t){this.app=e,this.parentContainer=t,this.celebrationContainer=null,this.celebrationText=null,this.confettiParticles=[],this.celebrationActive=!1,this.uiElements={},this.initializeCelebrationContainer()}initializeCelebrationContainer(){this.celebrationContainer=new i.mcf,this.celebrationContainer.visible=!1,this.parentContainer.addChild(this.celebrationContainer)}setUIElements(e){this.uiElements=e}createCelebration(e,t="GREAT JOB!",n={}){const{duration:o=4e3,onComplete:r}=n;this.celebrationActive=!0,this.celebrationContainer.visible=!0,this.celebrationContainer.removeChildren(),this.hideUIElements(),this.celebrationText=new i.EYj(`üéâ ${t} üéâ`,{fontFamily:"Arial",fontSize:48,fontWeight:"bold",fill:16766720,align:"center",stroke:0,strokeThickness:3}),this.celebrationText.anchor.set(.5),this.celebrationText.x=this.app.screen.width/2,this.celebrationText.y=this.app.screen.height/2-100,this.celebrationContainer.addChild(this.celebrationText);const s=new i.EYj(`${e} seconds!`,{fontFamily:"Arial",fontSize:32,fontWeight:"bold",fill:16766720,align:"center"});s.anchor.set(.5),s.x=this.app.screen.width/2,s.y=this.app.screen.height/2-50,this.celebrationContainer.addChild(s),this.createConfetti(),this.animateCelebrationText(),setTimeout(()=>{this.hideCelebration(),r&&r()},o)}createConfetti(){this.confettiParticles=[];const e=[16739179,5164484,4569041,16754470,6732650,11225020];for(let t=0;t<50;t++){const t=new i.A1g,n=e[Math.floor(Math.random()*e.length)],o=8*Math.random()+4;Math.random()>.5?(t.beginFill(n),t.drawRect(0,0,o,o),t.endFill()):(t.beginFill(n),t.drawCircle(0,0,o/2),t.endFill()),t.x=Math.random()*this.app.screen.width,t.y=-20,t.vx=4*(Math.random()-.5),t.vy=3*Math.random()+2,t.rotation=Math.random()*Math.PI*2,t.rotationSpeed=.2*(Math.random()-.5),t.gravity=.1,this.confettiParticles.push(t),this.celebrationContainer.addChild(t)}this.animateConfetti()}animateConfetti(){this.celebrationActive&&(this.confettiParticles.forEach((e,t)=>{e.x+=e.vx,e.y+=e.vy,e.vy+=e.gravity,e.rotation+=e.rotationSpeed,e.y>this.app.screen.height+50&&(this.celebrationContainer.removeChild(e),this.confettiParticles.splice(t,1))}),this.confettiParticles.length>0&&requestAnimationFrame(()=>this.animateConfetti()))}animateCelebrationText(){if(!this.celebrationActive||!this.celebrationText)return;let e=0;const t=this.celebrationText.y,n=()=>{this.celebrationActive&&this.celebrationText&&(e+=.1,this.celebrationText.y=t+10*Math.sin(e),this.celebrationText.scale.set(1+.1*Math.sin(2*e)),e<8*Math.PI&&requestAnimationFrame(n))};n()}hideCelebration(){this.celebrationActive=!1,this.celebrationContainer&&(this.celebrationContainer.visible=!1,this.celebrationContainer.removeChildren()),this.confettiParticles=[],this.showUIElements()}hideUIElements(){Object.values(this.uiElements).forEach(e=>{e&&void 0!==e.visible&&(e.visible=!1)})}showUIElements(){Object.values(this.uiElements).forEach(e=>{e&&void 0!==e.visible&&(e.visible=!0)})}get isActive(){return this.celebrationActive}get container(){return this.celebrationContainer}destroy(){this.hideCelebration(),this.celebrationContainer&&this.parentContainer&&this.parentContainer.removeChild(this.celebrationContainer),this.celebrationContainer=null,this.celebrationText=null,this.confettiParticles=[],this.uiElements={}}}let g,u,m,f,w,p,b,C,S,y,T,v,x,E,F,I,k=[],A=0,M="title",O=null,W=0,R=0,D=null,j=0;const z=new class{constructor(e,t,n){this.gameId=e,this.gameName=t,this.developer=n,this.storageKey="gameAppData"}initData(){let e;try{const t=localStorage.getItem(this.storageKey);e=t?JSON.parse(t):null}catch(t){console.warn("Failed to parse saved data, creating new:",t),e=null}return e||(e={version:"1.0",developer:this.developer||"Unknown Developer",user:{userId:`user_${Date.now()}`,createdAt:(new Date).toISOString(),preferences:{}},games:{},achievements:[]},localStorage.setItem(this.storageKey,JSON.stringify(e))),e.version||(console.log('Save data: Missing version, applying default "1.0"'),e.version="1.0"),e.developer||(console.log("Save data: Missing developer, applying default:",this.developer||"Unknown Developer"),e.developer=this.developer||"Unknown Developer"),e.user||(console.log("Save data: Missing user object, creating default"),e.user={}),e.user.userId||(console.log("Save data: Missing user ID, generating new one"),e.user.userId=`user_${Date.now()}`),e.user.createdAt||(console.log("Save data: Missing user creation date, applying current timestamp"),e.user.createdAt=(new Date).toISOString()),e.user.preferences||(console.log("Save data: Missing user preferences, creating empty object"),e.user.preferences={}),e.games||(console.log("Save data: Missing games object, creating empty object"),e.games={}),e.achievements||(console.log("Save data: Missing achievements array, creating empty array"),e.achievements=[]),e}saveSession(e){const t=this.initData(),n={};e.startTime?n.startTime=e.startTime:(console.log("Session data: Missing start time, using current timestamp"),n.startTime=(new Date).toISOString()),void 0===e.duration||null===e.duration?(console.log("Session data: Missing duration, defaulting to 0"),n.duration=0):n.duration=e.duration,void 0===e.completed||null===e.completed?(console.log("Session data: Missing completed status, defaulting to false"),n.completed=!1):n.completed=e.completed,e.wordsCount?n.wordsCount=e.wordsCount:(console.log("Session data: Missing word count, defaulting to 0"),n.wordsCount=0),void 0===e.shuffled||null===e.shuffled?(console.log("Session data: Missing shuffle status, defaulting to false"),n.shuffled=!1):n.shuffled=e.shuffled,e.backButtonUses?n.backButtonUses=e.backButtonUses:(console.log("Session data: Missing back button usage, defaulting to 0"),n.backButtonUses=0),t.games[this.gameId]||(t.games[this.gameId]={gameInfo:{name:this.gameName||"Unknown Game",developer:this.developer||"Unknown Developer",version:"1.0",firstPlayed:(new Date).toISOString(),totalSessions:0},stats:{bestTime:null,averageTime:0,totalCompletions:0,totalWordsCompleted:0},highScores:{topTen:[],historical:[]},sessions:[],settings:{}}),t.games[this.gameId].highScores||(console.log("High score data: Adding high scores structure to existing save"),t.games[this.gameId].highScores={topTen:[],historical:[]});const i={sessionId:`session_${Date.now()}`,endTime:(new Date).toISOString(),...n};if(t.games[this.gameId].sessions.push(i),t.games[this.gameId].gameInfo.totalSessions++,t.games[this.gameId].gameInfo.lastPlayed=i.endTime,n.completed&&n.duration>0){const e=t.games[this.gameId].stats;e.totalCompletions++,e.totalWordsCompleted+=n.wordsCount,(null===e.bestTime||n.duration<e.bestTime)&&(e.bestTime=n.duration);const i=t.games[this.gameId].sessions.filter(e=>e.completed&&e.duration>0);i.length>0&&(e.averageTime=Math.round(i.reduce((e,t)=>e+t.duration,0)/i.length))}localStorage.setItem(this.storageKey,JSON.stringify(t)),console.log("Game session saved:",i)}getStats(){const e=this.initData(),t=e.games[this.gameId]?.stats||{};return{bestTime:t.bestTime||null,averageTime:t.averageTime||0,totalCompletions:t.totalCompletions||0,totalWordsCompleted:t.totalWordsCompleted||0}}isTopTenScore(e){const t=this.initData(),n=t.games[this.gameId]?.highScores?.topTen||[];return n.length<10||e<n[n.length-1].time}addHighScore(e,t,n){const i=this.initData(),o={initials:e.toUpperCase().substring(0,3),time:t,date:(new Date).toISOString(),wordsCount:n,timestamp:Date.now()},r=i.games[this.gameId].highScores;for(r.topTen.push(o),r.topTen.sort((e,t)=>e.time-t.time);r.topTen.length>10;){const e=r.topTen.pop(),t=r.historical.find(t=>t.timestamp===e.timestamp);e.wasInTopTen||t||(e.wasInTopTen=!0,e.removedFromTopTen=(new Date).toISOString(),r.historical.push(e))}return localStorage.setItem(this.storageKey,JSON.stringify(i)),console.log("High score added:",o),r.topTen.findIndex(e=>e.timestamp===o.timestamp)+1}getHighScores(){const e=this.initData();return{topTen:e.games[this.gameId]?.highScores?.topTen||[],historical:e.games[this.gameId]?.highScores?.historical||[]}}resetData(){localStorage.removeItem(this.storageKey),console.log("üîÑ Game data reset complete")}}("word-practice","Word Practice","Videogame Workshop LLC");let B="";function N(){if(!O)return void console.log("‚ö†Ô∏è submitHighScore called but no pendingScore found");const e=B||"AAA",t=z.addHighScore(e,O.time,O.wordsCount);console.log(`üèÜ High score submitted: ${e} - ${O.time}s (Rank #${t})`),console.log(`üìä Is new best: ${O.isNewBest}`);const n=O.isNewBest,i=O.time,o=O.wordsCount;O=null,B="",console.log("üéâ Showing celebration for top score achievement"),H("practice"),setTimeout(()=>{let t;console.log("üéä Creating celebration..."),t=1===o?"FIRST COMPLETION!":n?"NEW BEST TIME!":"TOP SCORE!",I.createCelebration(i,t,{onComplete:()=>{console.log("‚úÖ Going to high score screen after celebration"),Y({time:i,initials:e,wordsCount:o}),H("highScoreView")}})},200)}function $(){if(!C||!C.visible)return;const e=C.children[2],t=B.padEnd(3,"_");e.text=t}function Y(e=null){if(!S)return;const t=S.children[1];t.removeChildren();const n=z.getHighScores();if(0===n.topTen.length&&!e){const e=new i.EYj("No high scores yet!\n\nComplete the word practice to set your first score.",{fontFamily:"Arial",fontSize:24,fill:6710886,align:"center"});return e.anchor.set(.5),void t.addChild(e)}if(n.topTen.forEach((n,o)=>{const r=`${o+1}.`,s=`${n.time}s`,a=n.initials,l=`${n.wordsCount} words`,c=e&&n.time===e.time&&n.initials===e.initials,d=new i.EYj(`${r.padEnd(4)} ${a.padEnd(4)} ${s.padEnd(8)} ${l}`,{fontFamily:"Courier New",fontSize:0===o?20:18,fontWeight:0===o||c?"bold":"normal",fill:0===o?16766720:c?43520:3355443,align:"left"});d.anchor.set(.5,0),d.y=30*o,t.addChild(d)}),e&&!z.isTopTenScore(e.time)){const o=new i.EYj("‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ",{fontFamily:"Courier New",fontSize:16,fill:10066329,align:"center"});o.anchor.set(.5,0),o.y=30*n.topTen.length+15,t.addChild(o);const r=new i.EYj("CURRENT SCORE",{fontFamily:"Arial",fontSize:16,fontWeight:"bold",fill:6710886,align:"center"});r.anchor.set(.5,0),r.y=30*n.topTen.length+35,t.addChild(r);const s=new i.EYj(`${e.initials.padEnd(4)} ${e.time}s`.padEnd(12)+` ${e.wordsCount} words`,{fontFamily:"Courier New",fontSize:18,fontWeight:"bold",fill:26316,align:"center"});s.anchor.set(.5,0),s.y=30*n.topTen.length+55,t.addChild(s)}const o=e&&!z.isTopTenScore(e.time)?100:20;if(n.historical.length>0){const e=new i.EYj(`\n${n.historical.length} historical scores tracked`,{fontFamily:"Arial",fontSize:14,fill:8947848,align:"center"});e.anchor.set(.5,0),e.y=30*n.topTen.length+o,t.addChild(e)}}function P(){for(let e=k.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[k[e],k[t]]=[k[t],k[e]]}console.log("Words shuffled")}function U(e){const t=l("Back",g.screen.width/2-120,g.screen.height-100);t.on("pointerdown",V),e.addChild(t);const n=l("Next",g.screen.width/2+120,g.screen.height-100);return n.on("pointerdown",_),e.addChild(n),{back:t,next:n}}function H(e){M=e,m.visible="title"===e,f.visible="practice"===e,w.visible="race"===e,p.visible="end"===e,b.visible="options"===e,"race"===e&&(y=w.wordText),C&&(C.visible="highScoreInput"===e,"highScoreInput"===e&&$()),S&&(S.visible="highScoreView"===e,"highScoreView"===e&&Y())}function L(){d.updateWordDisplay(y,k[A],A,k.length),"practice"===M&&X(),"race"===M&&function(e,t){if("race"!==t||!s.currentStartTime)return;if(!(o&&r.best&&r.current&&r.recent))return void console.error("Race components not properly initialized");const n=(new Date-s.currentStartTime)/1e3,i=e/s.totalWords,a=o.endX-o.startX;r.current.x=o.startX+i*a;const l=Math.min(n/s.bestTime,1);r.best.x=o.startX+l*a;const c=Math.min(n/s.recentTime,1);r.recent.x=o.startX+c*a}(A,M)}function X(){const e=(A+1)/k.length,t=400*e,n=Math.round(100*e);E.clear(),E.beginFill(5025616),E.drawRoundedRect(0,0,t,20,10),E.endFill(),F.text=`${n}% Complete (${A+1}/${k.length})`}function _(){const e=Date.now();if(!(e-W<500))if(W=e,A<k.length-1)A++,L();else if("race"===M){const e=function(e){if(!e)return{shouldShowEnd:!0};const t=new Date,n=new Date(e),i=Math.round((t-n)/1e3);console.log(`üèÅ Race completed in ${i} seconds!`);const o=(t-s.currentStartTime)/1e3;let r=1;return o>s.bestTime&&r++,o>s.recentTime&&r++,console.log(`üèÜ Race finish position: ${r}/3`),{shouldShowEnd:!1,continueWithPracticeCompletion:!0}}(D);if(e.shouldShowEnd)return void H("end");if(e.continueWithPracticeCompletion)return void G()}else G()}function G(){if(!D)return void H("end");const e=new Date,t=new Date(D),n=Math.round((e-t)/1e3),i=z.getStats(),o=null===i.bestTime,r=o||n<i.bestTime;if(o?console.log("üéâ First completion ever! Time:",n,"seconds"):n<i.bestTime&&console.log("üéâ New best time! Previous:",i.bestTime,"New:",n),z.saveSession({startTime:D,duration:n,completed:!0,wordsCount:k.length,shuffled:!0,backButtonUses:j}),z.isTopTenScore(n))return O={time:n,wordsCount:k.length,isNewBest:r},B="",void H("highScoreInput");if(r){const e=o?"FIRST COMPLETION!":"NEW BEST TIME!";I.createCelebration(n,e,{onComplete:()=>{Y({time:n,initials:"YOU",wordsCount:k.length}),H("highScoreView")}})}else Y({time:n,initials:"YOU",wordsCount:k.length}),H("highScoreView")}function V(){const e=Date.now();e-R<500||(R=e,A>0&&(A--,j++,L()))}function K(e){"practice"===M||"race"===M?"ArrowRight"===e.key?_():"ArrowLeft"===e.key&&V():"highScoreInput"===M&&("Enter"===e.key?(e.preventDefault(),console.log("‚å®Ô∏è Enter key pressed"),N()):"Backspace"===e.key?(B=B.slice(0,-1),$()):1===e.key.length&&e.key.match(/[a-zA-Z]/)&&B.length<3&&(B+=e.key.toUpperCase(),$()))}function J(){g&&(u&&u.children[0]&&(u.children[0].width=g.screen.width,u.children[0].height=g.screen.height),function(e,t){e&&0!==e.children.length&&(e.children[0].x=t.screen.width/2,e.children[0].y=t.screen.height/3,e.children[1].x=t.screen.width/2,e.children[1].y=t.screen.height/2+20,e.children.length>2&&(e.children[2].x=t.screen.width/2,e.children[2].y=t.screen.height/2+100),e.children.length>3&&(e.children[3].x=t.screen.width/2,e.children[3].y=t.screen.height/2+180),e.children.length>4&&(e.children[4].x=t.screen.width/2,e.children[4].y=t.screen.height/2+260))}(m,g),b&&b.children.length>0&&(b.children[0].x=g.screen.width/2,b.children[0].y=g.screen.height/4,b.children[1].x=g.screen.width/2,b.children[1].y=g.screen.height/2-50,b.children.length>2&&(b.children[2].x=g.screen.width/2,b.children[2].y=g.screen.height/2+20),b.children.length>3&&(b.children[3].x=g.screen.width/2,b.children[3].y=g.screen.height/2+100)),f&&f.children.length>0&&(y.x=g.screen.width/2,y.y=g.screen.height/2,x&&(x.x=g.screen.width/2-200,x.y=g.screen.height-50),E&&(E.x=g.screen.width/2-200,E.y=g.screen.height-50),F&&(F.x=g.screen.width/2,F.y=g.screen.height-20),celebrationActive&&celebrationText&&(celebrationText.x=g.screen.width/2,celebrationContainer.children.length>1&&(celebrationContainer.children[1].x=g.screen.width/2)),v&&(v.x=g.screen.width/2-120,v.y=g.screen.height-100),T&&(T.x=g.screen.width/2+120,T.y=g.screen.height-100)),w&&w.visible&&w.wordText&&(w.wordText.x=g.screen.width/2,w.wordText.y=g.screen.height/2,w.backButton&&(w.backButton.x=g.screen.width/2-120,w.backButton.y=g.screen.height-100),w.nextButton&&(w.nextButton.x=g.screen.width/2+120,w.nextButton.y=g.screen.height-100)),function(e,t){e&&e.children&&0!==e.children.length&&(e.children[0]&&(e.children[0].x=t.screen.width/2,e.children[0].y=t.screen.height/3),e.children[1]&&(e.children[1].x=t.screen.width/2,e.children[1].y=t.screen.height/2+50),e.children[2]&&(e.children[2].x=t.screen.width/2,e.children[2].y=t.screen.height/2+120))}(p,g))}!async function(){g=new i.lgM({resizeTo:window,backgroundColor:16777215}),document.body.appendChild(g.view);const e=function(){u=new i.A1g;const e=document.createElement("canvas");e.width=g.screen.width||800,e.height=g.screen.height||600;const t=e.getContext("2d"),n=t.createLinearGradient(0,0,e.width,e.height);n.addColorStop(0,"rgba(255, 0, 0, 0.25)"),n.addColorStop(.17,"rgba(255, 165, 0, 0.25)"),n.addColorStop(.33,"rgba(255, 255, 0, 0.25)"),n.addColorStop(.5,"rgba(0, 255, 0, 0.25)"),n.addColorStop(.67,"rgba(0, 0, 255, 0.25)"),n.addColorStop(.83,"rgba(75, 0, 130, 0.25)"),n.addColorStop(1,"rgba(138, 43, 226, 0.25)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height);const o=i.gPd.from(e),r=new i.kxk(o);return r.width=g.screen.width,r.height=g.screen.height,u.addChild(r),u}();g.stage.addChild(e),await async function(){try{const e=await fetch("words.csv"),t=await e.text();k=t.split("\n").map(e=>e.trim()).filter(e=>e.length>0),console.log(`Loaded ${k.length} words`)}catch(e){console.error("Error loading words:",e),k=["Error","loading","words"]}}(),m=function(e,t){const n=new i.mcf,o=new i.EYj("Word Practice",{fontFamily:"Arial",fontSize:72,fontWeight:"bold",fill:3355443,align:"center"});o.anchor.set(.5),o.x=e.screen.width/2,o.y=e.screen.height/3,n.addChild(o);const r=l("Start",e.screen.width/2,e.screen.height/2+20);r.on("pointerdown",()=>{t.onStart&&t.onStart()}),n.addChild(r);const s=l("Race",e.screen.width/2,e.screen.height/2+100);s.on("pointerdown",()=>{t.onRace&&t.onRace()}),n.addChild(s);const a=l("Options",e.screen.width/2,e.screen.height/2+180);a.on("pointerdown",()=>{t.onOptions&&t.onOptions()}),n.addChild(a);const c=l("High Scores",e.screen.width/2,e.screen.height/2+260);return c.on("pointerdown",()=>{t.onHighScores&&t.onHighScores()}),n.addChild(c),n}(g,{onStart:()=>{P(),A=0,D=(new Date).toISOString(),j=0,H("practice"),L()},onRace:()=>{P(),A=0,D=(new Date).toISOString(),j=0,function(e,t){const n=t.getHighScores();s.totalWords=e.length,s.currentStartTime=new Date,n.topTen.length>0?(s.bestTime=n.topTen[0].time,s.recentTime=n.topTen[n.topTen.length-1].time):(s.bestTime=300,s.recentTime=600),o&&r.best&&r.current&&r.recent?(r.best.x=o.startX,r.current.x=o.startX,r.recent.x=o.startX,console.log(`Race initialized: Best ${s.bestTime}s, Recent ${s.recentTime}s, Words ${s.totalWords}`)):console.error("Race track or racers not properly initialized")}(k,z),H("race"),L()},onOptions:()=>{H("options")},onHighScores:()=>{H("highScoreView")}}),g.stage.addChild(m),function(){f=new i.mcf,y=d.createWordDisplay(f,g),x=new i.A1g,x.beginFill(13421772),x.drawRoundedRect(0,0,400,20,10),x.endFill(),x.x=g.screen.width/2-200,x.y=g.screen.height-50,f.addChild(x),E=new i.A1g,E.x=g.screen.width/2-200,E.y=g.screen.height-50,f.addChild(E),F=new i.EYj("",{fontFamily:"Arial",fontSize:18,fontWeight:"bold",fill:6710886,align:"center"}),F.anchor.set(.5),F.x=g.screen.width/2,F.y=g.screen.height-20,f.addChild(F),I=new h(g,f),I.setUIElements({wordText:y,progressBarBg:x,progressBarFill:E,progressText:F,backButton:v,nextButton:T});const e=U(f);v=e.back,T=e.next,I.setUIElements({wordText:y,progressBarBg:x,progressBarFill:E,progressText:F,backButton:e.back,nextButton:e.next}),g.stage.addChild(f),f.visible=!1}(),w=function(e,t,n){const s=new i.mcf,a=new i.mcf;a.y=20,s.addChild(a);const l=new i.A1g;l.beginFill(15790320),l.drawRoundedRect(50,0,e.screen.width-100,80,10),l.endFill(),l.beginFill(13421772),l.drawRoundedRect(55,5,e.screen.width-110,70,8),l.endFill(),a.addChild(l);const c=new i.A1g;c.lineStyle(3,0);for(let t=0;t<8;t++)c.moveTo(e.screen.width-60,10+10*t),c.lineTo(e.screen.width-50,10+10*t);a.addChild(c);const d=e.screen.width-110;r.best=new i.EYj("üê±",{fontSize:24}),r.best.anchor.set(.5),r.best.x=70,r.best.y=25,a.addChild(r.best),r.current=new i.EYj("üê∂",{fontSize:24}),r.current.anchor.set(.5),r.current.x=70,r.current.y=45,a.addChild(r.current),r.recent=new i.EYj("üê¶",{fontSize:24}),r.recent.anchor.set(.5),r.recent.x=70,r.recent.y=65,a.addChild(r.recent);const h=new i.EYj("Best Time",{fontSize:12,fill:6710886});h.x=10,h.y=15,a.addChild(h);const g=new i.EYj("You",{fontSize:12,fill:26316,fontWeight:"bold"});g.x=10,g.y=35,a.addChild(g);const u=new i.EYj("Last Score",{fontSize:12,fill:6710886});u.x=10,u.y=55,a.addChild(u);const m=t(s);s.wordText=m;const f=n(s);return s.backButton=f.back,s.nextButton=f.next,o={width:d,startX:70,endX:e.screen.width-70},s}(g,e=>d.createWordDisplay(e,g),U),g.stage.addChild(w),w.visible=!1,p=function(e={}){const t=new i.mcf,n=new i.EYj("Great job! The End.",{fontFamily:"Arial",fontSize:64,fontWeight:"bold",fill:43520,align:"center"});n.anchor.set(.5),n.x=window.innerWidth/2,n.y=window.innerHeight/3,t.addChild(n);const o=l("Return to Title",window.innerWidth/2,window.innerHeight/2+50);o.on("pointerdown",()=>{e.onReturnToTitle&&e.onReturnToTitle()});const r=l("Shuffle & Restart",window.innerWidth/2,window.innerHeight/2+120);return r.on("pointerdown",()=>{e.onShuffleRestart&&e.onShuffleRestart()}),t.addChild(o),t.addChild(r),t}({onReturnToTitle:()=>{A=0,H("title")},onShuffleRestart:()=>{P(),A=0,D=(new Date).toISOString(),j=0,H("practice"),L()}}),g.stage.addChild(p),p.visible=!1,function(){b=new i.mcf;const e=new i.EYj("Options",{fontFamily:"Arial",fontSize:48,fontWeight:"bold",fill:3355443,align:"center"});e.anchor.set(.5),e.x=g.screen.width/2,e.y=g.screen.height/4,b.addChild(e);const t=l("Reset Progress",g.screen.width/2,g.screen.height/2-50);t.on("pointerdown",()=>{confirm("Are you sure you want to reset all progress? This cannot be undone.")&&(function(){z.resetData();const e=z.initData();console.log("‚úÖ Save data reset complete. New data structure:",e),console.log("üìä All stats, best times, and session history have been cleared.")}(),H("title"))}),b.addChild(t);const n=l("Test Celebration",g.screen.width/2,g.screen.height/2+20);n.on("pointerdown",()=>{const e=k.slice(),t=A;k=["TEST"],A=0,H("practice"),L(),X(),setTimeout(()=>{const n=Math.floor(60*Math.random())+30,i=["NEW BEST TIME!","FIRST COMPLETION!","TOP SCORE!"],o=i[Math.floor(Math.random()*i.length)];I.createCelebration(n,o,{onComplete:()=>{k=e,A=t,console.log("Test celebration complete. Original data restored.")}})},100)}),b.addChild(n);const o=l("Back to Title",g.screen.width/2,g.screen.height/2+100);o.on("pointerdown",()=>{H("title")}),b.addChild(o),g.stage.addChild(b),b.visible=!1}(),function(){C=new i.mcf;const e=new i.EYj("New High Score!",{fontFamily:"Arial",fontSize:48,fontWeight:"bold",fill:16766720,align:"center"});e.anchor.set(.5),e.x=g.screen.width/2,e.y=g.screen.height/4,C.addChild(e);const t=new i.EYj("Enter your initials (3 letters):",{fontFamily:"Arial",fontSize:24,fill:3355443,align:"center"});t.anchor.set(.5),t.x=g.screen.width/2,t.y=g.screen.height/2-60,C.addChild(t);const n=new i.EYj("___",{fontFamily:"Courier New",fontSize:48,fontWeight:"bold",fill:0,align:"center"});n.anchor.set(.5),n.x=g.screen.width/2,n.y=g.screen.height/2,C.addChild(n);const o=new i.EYj("Type your initials and press ENTER\n(or click Submit)",{fontFamily:"Arial",fontSize:18,fill:6710886,align:"center"});o.anchor.set(.5),o.x=g.screen.width/2,o.y=g.screen.height/2+60,C.addChild(o);const r=l("Submit",g.screen.width/2,g.screen.height/2+120);r.on("pointerdown",()=>{console.log("üñ±Ô∏è Submit button clicked"),N()}),C.addChild(r),g.stage.addChild(C),C.visible=!1}(),function(){S=new i.mcf;const e=new i.EYj("High Scores",{fontFamily:"Arial",fontSize:48,fontWeight:"bold",fill:3355443,align:"center"});e.anchor.set(.5),e.x=g.screen.width/2,e.y=80,S.addChild(e);const t=new i.mcf;t.x=g.screen.width/2,t.y=150,S.addChild(t);const n=l("Back to Title",g.screen.width/2,g.screen.height-100);n.on("pointerdown",()=>{H("title")}),S.addChild(n),g.stage.addChild(S),S.visible=!1}(),H("title"),window.addEventListener("keydown",K),window.addEventListener("resize",J)}()},2634(){}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,e=[],i.O=(t,n,o,r)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],a=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every(e=>i.O[e](n[l]))?n.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[s,a,l]=n,c=0;if(s.some(t=>0!==e[t])){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)var d=l(i)}for(t&&t(n);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunkword_practice=self.webpackChunkword_practice||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,[855],()=>i(2339));o=i.O(o)})();